[{"/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/index.js":"1","/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/App.js":"2","/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/components/navbar.js":"3","/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/components/taskBoard.js":"4"},{"size":312,"mtime":1680646583750,"results":"5","hashOfConfig":"6"},{"size":641,"mtime":1680646583748,"results":"7","hashOfConfig":"6"},{"size":255,"mtime":1680629018185,"results":"8","hashOfConfig":"6"},{"size":8232,"mtime":1680653518124,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"1tded0q",{"filePath":"13","messages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"15","messages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},"/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/index.js",[],["20","21"],"/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/App.js",[],"/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/components/navbar.js",[],"/Users/yangkaili/Documents/hatch-mongodb/mern-todo/client/src/components/taskBoard.js",["22","23","24","25"],"import React, { useEffect, useState } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputBase from '@material-ui/core/InputBase';\nimport Grid from '@mui/material/Grid';\nimport {\n  alpha,\n  withStyles,\n} from '@material-ui/core/styles';\nimport '../index.css'\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.common.white,\n    border: '1px solid #ced4da',\n    fontSize: 16,\n    width: 'auto',\n    padding: '10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:focus': {\n      boxShadow: `${alpha(theme.palette.primary.main, 0.25)} 0 0 0 0.2rem`,\n      borderColor: theme.palette.primary.main,\n    },\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function TaskList() {\n  const [taskList, setTaskList] = useState([]);\n  const [todoList, setTodoList] = useState([]);\n  const [doneList, setDoneList] = useState([]);\n  const [newTodo, setNewTodo] = useState('');\n  const [searchTodo, setsearchTodo] = useState('');\n  const [open, setOpen] = React.useState(false);\n  const [todoCheckedState, setTodoCheckedState] = useState(\n    new Array(todoList.length).fill(false)\n  );\n  const [doneCheckedState, setDoneCheckedState] = useState(\n    new Array(doneList.length).fill(false)\n  );\n  const classes = useStyles();\n\n  // This method fetches the tasks from the database.\n  useEffect(() => {\n    getTasks()\n  }, []);\n\n  const getTasks = () => {\n    fetch('http://localhost:5000/api/task')\n      .then(response => response.json())\n      .then(data => {\n        handleTaskList(data.data)\n      });\n  }\n\n  const handleTaskList = (data) => {\n    if ( data == null || data.length === 0) {\n      setTaskList([]);\n      setTodoList([]);\n      setDoneList([]);\n      return\n    } \n    setTaskList(data);\n    const todoFilter = data.filter(item => item.status === 0)\n    if (!todoFilter || todoFilter.length === 0) {\n      setTodoList([]);\n    } else {\n      setTodoList(todoFilter.sort((a, b) => a.content.localeCompare(b.content)))\n    }\n    const doneFilter = data.filter(item => item.status === 1)\n    if (!doneFilter || doneFilter.length === 0) {\n      setDoneList([]);\n    } else {\n      setDoneList(doneFilter.sort((a, b) => a.content.localeCompare(b.content)).slice(0, 10));\n    }\n  }\n\n  const handleCheckboxChange = (position, item, tag) => {\n    if (tag === 'todo') {\n      const updatedCheckedState = todoCheckedState.map((item, index) =>\n        index === position ? !item : item\n      );\n      setTodoCheckedState(updatedCheckedState);\n    } \n    const params = { ...item, status: item.status === 0 ? 1 : 0 };\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(params)\n    };\n    fetch(`http://localhost:5000/api/task/update`, requestOptions)\n      .then(response => response.json())\n      .then(todoData => {\n        getTasks();\n      });\n  };\n\n  const handleAddTodoClick = () => {\n    if(newTodo.length === 0) return\n    const newTodoObj = { content: newTodo, status: 0, description: \"\" };\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(newTodoObj)\n    };\n    fetch('http://localhost:5000/api/task/add', requestOptions)\n      .then(response => response.json()).then(todoData => {\n        getTasks()\n        setNewTodo('')\n      });\n  }\n  const handleSearchTodoClick = () => {\n    // if(searchTodo.length === 0) return\n    const requestOptions = {\n      method: 'GET',\n    };\n    fetch(`http://localhost:5000/api/task?content=${searchTodo}`, requestOptions)\n      .then(response => response.json()).then(todoData => {\n        handleTaskList(todoData.data)\n      });\n  }\n  \n  const handlClick = (e) => {\n    setNewTodo(e.target.value);\n  }\n\n  const searchClick = (e) => {\n    setsearchTodo(e.target.value);\n  }\n\n  const handleDeleteAll = () => {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n    };\n    fetch('http://localhost:5000/api/task/delete', requestOptions)\n      .then(response => response.json()).then(todoData => {\n        handleClose()\n        getTasks()\n      });\n  }\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  \n  return (\n    <div>\n      <div className=\"delete-box\">\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          startIcon={<DeleteIcon />}\n          onClick={handleClickOpen}\n          className=\"right\"\n        >\n          Delete All\n        </Button>\n      </div>\n \n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <div className={classes.margin}>\n            <BootstrapInput value={newTodo} onChange={handlClick} defaultValue=\"Add new Task\" id=\"bootstrap-input\" />\n            <span className=\"btn\"><Button onClick={handleAddTodoClick} variant=\"contained\" color=\"primary\">Create</Button></span>\n          </div>\n        </Grid>\n        <Grid item xs={6}>\n          <div className={classes.margin}>\n            <BootstrapInput value={searchTodo} onChange={searchClick} defaultValue=\"Add new Task\" id=\"bootstrap-input\" />\n            <span className=\"btn\"><Button onClick={handleSearchTodoClick} variant=\"contained\" color=\"primary\" >Search</Button></span>\n          </div>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <h2>Todo</h2>\n            {todoList.map((item, index) => (\n              <div key={item._id}>\n                {todoCheckedState}\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    id=\"`todo-${index}`\"\n                    value=\"{item.content}\"\n                    checked={todoCheckedState[index]}\n                    onChange={() => handleCheckboxChange(index, item, 'todo')}\n                  />\n                  {item.content}\n                </label>\n              </div>\n            ))}\n        </Grid>\n        <Grid item xs={6}>\n          <h2>Done</h2>\n          {doneList.map((item, index) => (\n            <div key={item._id}>\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={doneCheckedState[index]}\n                  onChange={() => handleCheckboxChange(index, item, 'done')}\n                />\n                {item.content}\n              </label>\n            </div>\n          ))}\n        </Grid>\n      </Grid>\n      \n\n      \n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Are you sure?\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            This will delete all the tasks.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n          <Button onClick={handleDeleteAll} color=\"primary\" autoFocus>\n            Delete All\n          </Button>\n        </DialogActions>\n      </Dialog>\n      \n    </div>\n  );\n}\n",{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","replacedBy":"29"},{"ruleId":"30","severity":1,"message":"31","line":64,"column":10,"nodeType":"32","messageId":"33","endLine":64,"endColumn":18},{"ruleId":"30","severity":1,"message":"34","line":73,"column":28,"nodeType":"32","messageId":"33","endLine":73,"endColumn":47},{"ruleId":"35","severity":1,"message":"36","line":81,"column":6,"nodeType":"37","endLine":81,"endColumn":8,"suggestions":"38"},{"ruleId":"39","severity":1,"message":"40","line":224,"column":24,"nodeType":"41","messageId":"42","endLine":224,"endColumn":41},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'taskList' is assigned a value but never used.","Identifier","unusedVar","'setDoneCheckedState' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getTasks'. Either include it or remove the dependency array.","ArrayExpression",["45"],"no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","no-global-assign","no-unsafe-negation",{"desc":"46","fix":"47"},"Update the dependencies array to be: [getTasks]",{"range":"48","text":"49"},[2405,2407],"[getTasks]"]